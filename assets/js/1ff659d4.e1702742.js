"use strict";(self.webpackChunkcityresq360_docs=self.webpackChunkcityresq360_docs||[]).push([[500],{8228:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>o,contentTitle:()=>l,default:()=>a,frontMatter:()=>r,metadata:()=>t,toc:()=>h});var s=i(4848),c=i(8453);const r={},l="H\u01b0\u1edbng d\u1eabn c\xe0i \u0111\u1eb7t CityResQ360",t={id:"Installation",title:"H\u01b0\u1edbng d\u1eabn c\xe0i \u0111\u1eb7t CityResQ360",description:"H\u01b0\u1edbng d\u1eabn chi ti\u1ebft c\xe0i \u0111\u1eb7t v\xe0 ch\u1ea1y h\u1ec7 th\u1ed1ng CityResQ360 t\u1eeb GitHub v\u1ec1 m\xe1y local",source:"@site/docs/Installation.md",sourceDirName:".",slug:"/Installation",permalink:"/DTU-CityResQ360-documents/Installation",draft:!1,unlisted:!1,editUrl:"https://github.com/NguyenThai11103/DTU-CityResQ360-documents/edit/main/docs/Installation.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Ki\u1ebfn Tr\xfac H\u1ec7 Th\u1ed1ng (System Architecture)",permalink:"/DTU-CityResQ360-documents/Architecture"},next:{title:"Build Without Docker",permalink:"/DTU-CityResQ360-documents/BUILD_WITHOUT_DOCKER"}},o={},h=[{value:"\ud83d\udda5\ufe0f Y\xeau c\u1ea7u h\u1ec7 th\u1ed1ng",id:"\ufe0f-y\xeau-c\u1ea7u-h\u1ec7-th\u1ed1ng",level:2},{value:"\ud83d\ude80 C\xe0i \u0111\u1eb7t nhanh v\u1edbi docker",id:"-c\xe0i-\u0111\u1eb7t-nhanh-v\u1edbi-docker",level:2},{value:"\u26a0\ufe0f N\u1ebfu kh\xf4ng s\u1eed d\u1ee5ng Docker",id:"\ufe0f-n\u1ebfu-kh\xf4ng-s\u1eed-d\u1ee5ng-docker",level:2},{value:"Ph\u1ea7n m\u1ec1m c\u1ea7n c\xe0i \u0111\u1eb7t",id:"ph\u1ea7n-m\u1ec1m-c\u1ea7n-c\xe0i-\u0111\u1eb7t",level:3},{value:"\ud83d\udc33 C\xe0i \u0111\u1eb7t Docker",id:"-c\xe0i-\u0111\u1eb7t-docker",level:2},{value:"Windows",id:"windows",level:3},{value:"macOS",id:"macos",level:3},{value:"Linux (Ubuntu/Debian)",id:"linux-ubuntudebian",level:3},{value:"\ud83d\udce5 C\xe0i \u0111\u1eb7t h\u1ec7 th\u1ed1ng",id:"-c\xe0i-\u0111\u1eb7t-h\u1ec7-th\u1ed1ng",level:2},{value:"B\u01b0\u1edbc 1: Clone repository t\u1eeb GitHub",id:"b\u01b0\u1edbc-1-clone-repository-t\u1eeb-github",level:3},{value:"B\u01b0\u1edbc 2: C\u1ea5u h\xecnh Environment Variables",id:"b\u01b0\u1edbc-2-c\u1ea5u-h\xecnh-environment-variables",level:3},{value:"T\u1ea1o file .env cho CoreAPI",id:"t\u1ea1o-file-env-cho-coreapi",level:4},{value:"T\u1ea1o file .env chung (Optional)",id:"t\u1ea1o-file-env-chung-optional",level:4},{value:"B\u01b0\u1edbc 3: C\u1ea5u h\xecnh MQTT (Mosquitto)",id:"b\u01b0\u1edbc-3-c\u1ea5u-h\xecnh-mqtt-mosquitto",level:3},{value:"\ud83d\ude80 Kh\u1edfi \u0111\u1ed9ng services",id:"-kh\u1edfi-\u0111\u1ed9ng-services",level:2},{value:"Ph\u01b0\u01a1ng ph\xe1p 1: Kh\u1edfi \u0111\u1ed9ng to\xe0n b\u1ed9 h\u1ec7 th\u1ed1ng (\u0110\u01a1n gi\u1ea3n nh\u1ea5t)",id:"ph\u01b0\u01a1ng-ph\xe1p-1-kh\u1edfi-\u0111\u1ed9ng-to\xe0n-b\u1ed9-h\u1ec7-th\u1ed1ng-\u0111\u01a1n-gi\u1ea3n-nh\u1ea5t",level:3},{value:"Ph\u01b0\u01a1ng ph\xe1p 2: Kh\u1edfi \u0111\u1ed9ng t\u1eebng nh\xf3m services (Khuy\u1ebfn ngh\u1ecb)",id:"ph\u01b0\u01a1ng-ph\xe1p-2-kh\u1edfi-\u0111\u1ed9ng-t\u1eebng-nh\xf3m-services-khuy\u1ebfn-ngh\u1ecb",level:3},{value:"Ph\u01b0\u01a1ng ph\xe1p 3: S\u1eed d\u1ee5ng Script qu\u1ea3n l\xfd",id:"ph\u01b0\u01a1ng-ph\xe1p-3-s\u1eed-d\u1ee5ng-script-qu\u1ea3n-l\xfd",level:3},{value:"\ud83d\udd27 C\xe0i \u0111\u1eb7t sau khi kh\u1edfi \u0111\u1ed9ng",id:"-c\xe0i-\u0111\u1eb7t-sau-khi-kh\u1edfi-\u0111\u1ed9ng",level:2},{value:"1. Ch\u1ea1y migrations cho CoreAPI",id:"1-ch\u1ea1y-migrations-cho-coreapi",level:3},{value:"2. T\u1ea1o bucket cho MinIO",id:"2-t\u1ea1o-bucket-cho-minio",level:3},{value:"3. Kh\u1edfi t\u1ea1o extensions cho PostgreSQL",id:"3-kh\u1edfi-t\u1ea1o-extensions-cho-postgresql",level:3},{value:"\u2705 Ki\u1ec3m tra h\u1ec7 th\u1ed1ng",id:"-ki\u1ec3m-tra-h\u1ec7-th\u1ed1ng",level:2},{value:"1. Ki\u1ec3m tra containers \u0111ang ch\u1ea1y",id:"1-ki\u1ec3m-tra-containers-\u0111ang-ch\u1ea1y",level:3},{value:"2. Ki\u1ec3m tra logs",id:"2-ki\u1ec3m-tra-logs",level:3},{value:"3. Truy c\u1eadp c\xe1c services",id:"3-truy-c\u1eadp-c\xe1c-services",level:3},{value:"4. Test API endpoints",id:"4-test-api-endpoints",level:3},{value:"5. Ki\u1ec3m tra k\u1ebft n\u1ed1i database",id:"5-ki\u1ec3m-tra-k\u1ebft-n\u1ed1i-database",level:3},{value:"\ud83d\uded1 D\u1eebng v\xe0 x\xf3a h\u1ec7 th\u1ed1ng",id:"-d\u1eebng-v\xe0-x\xf3a-h\u1ec7-th\u1ed1ng",level:2},{value:"D\u1eebng t\u1ea5t c\u1ea3 services",id:"d\u1eebng-t\u1ea5t-c\u1ea3-services",level:3},{value:"D\u1eebng v\xe0 x\xf3a containers (gi\u1eef l\u1ea1i data)",id:"d\u1eebng-v\xe0-x\xf3a-containers-gi\u1eef-l\u1ea1i-data",level:3},{value:"X\xf3a ho\xe0n to\xe0n (bao g\u1ed3m volumes/data)",id:"x\xf3a-ho\xe0n-to\xe0n-bao-g\u1ed3m-volumesdata",level:3},{value:"Clean rebuild to\xe0n b\u1ed9 h\u1ec7 th\u1ed1ng",id:"clean-rebuild-to\xe0n-b\u1ed9-h\u1ec7-th\u1ed1ng",level:3},{value:"\ud83c\udd98 Troubleshooting",id:"-troubleshooting",level:2},{value:"L\u1ed7i: Port already in use",id:"l\u1ed7i-port-already-in-use",level:3},{value:"L\u1ed7i: Container unhealthy ho\u1eb7c kh\xf4ng kh\u1edfi \u0111\u1ed9ng",id:"l\u1ed7i-container-unhealthy-ho\u1eb7c-kh\xf4ng-kh\u1edfi-\u0111\u1ed9ng",level:3},{value:"L\u1ed7i: Permission denied (Linux)",id:"l\u1ed7i-permission-denied-linux",level:3},{value:"L\u1ed7i: Out of memory",id:"l\u1ed7i-out-of-memory",level:3},{value:"L\u1ed7i: Database connection refused",id:"l\u1ed7i-database-connection-refused",level:3},{value:"L\u1ed7i: Cannot connect to Docker daemon",id:"l\u1ed7i-cannot-connect-to-docker-daemon",level:3},{value:"L\u1ed7i: Build failed ho\u1eb7c image pull failed",id:"l\u1ed7i-build-failed-ho\u1eb7c-image-pull-failed",level:3},{value:"X\xf3a v\xe0 rebuild ho\xe0n to\xe0n",id:"x\xf3a-v\xe0-rebuild-ho\xe0n-to\xe0n",level:3},{value:"\ud83d\udcda C\xe1c l\u1ec7nh Docker h\u1eefu \xedch",id:"-c\xe1c-l\u1ec7nh-docker-h\u1eefu-\xedch",level:2},{value:"\ud83d\udcde H\u1ed7 tr\u1ee3",id:"-h\u1ed7-tr\u1ee3",level:2},{value:"\ud83d\udcda T\xe0i li\u1ec7u b\u1ed5 sung",id:"-t\xe0i-li\u1ec7u-b\u1ed5-sung",level:2},{value:"\ud83c\udfaf T\xf3m t\u1eaft c\xe1c b\u01b0\u1edbc c\xe0i \u0111\u1eb7t",id:"-t\xf3m-t\u1eaft-c\xe1c-b\u01b0\u1edbc-c\xe0i-\u0111\u1eb7t",level:2}];function d(n){const e={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h1,{id:"h\u01b0\u1edbng-d\u1eabn-c\xe0i-\u0111\u1eb7t-cityresq360",children:"H\u01b0\u1edbng d\u1eabn c\xe0i \u0111\u1eb7t CityResQ360"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:"H\u01b0\u1edbng d\u1eabn chi ti\u1ebft c\xe0i \u0111\u1eb7t v\xe0 ch\u1ea1y h\u1ec7 th\u1ed1ng CityResQ360 t\u1eeb GitHub v\u1ec1 m\xe1y local"}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"\ufe0f-y\xeau-c\u1ea7u-h\u1ec7-th\u1ed1ng",children:"\ud83d\udda5\ufe0f Y\xeau c\u1ea7u h\u1ec7 th\u1ed1ng"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"CPU"}),": 4 cores"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"RAM"}),": 8 GB"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u1ed4 c\u1ee9ng"}),": 50 GB tr\u1ed1ng"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"M\u1ea1ng"}),": K\u1ebft n\u1ed1i internet \u1ed5n \u0111\u1ecbnh"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"-c\xe0i-\u0111\u1eb7t-nhanh-v\u1edbi-docker",children:"\ud83d\ude80 C\xe0i \u0111\u1eb7t nhanh v\u1edbi docker"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Y\xeau c\u1ea7u"}),": Docker, Docker Compose, Git"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# 1. Clone repository\ngit clone https://github.com/MNM-DTU-DZ/CityResQ360-DTUDZ.git\ncd CityResQ360-DTUDZ\n\n# 2. C\u1ea5u h\xecnh environment\ncp modules/CoreAPI/.env.example modules/CoreAPI/.env\n\n# 3. T\u1ea1o c\u1ea5u h\xecnh MQTT\nmkdir -p infrastructure/mosquitto/config\ncat > infrastructure/mosquitto/config/mosquitto.conf << 'EOF'\nlistener 1883\nallow_anonymous true\npersistence true\npersistence_location /mosquitto/data/\nlog_dest file /mosquitto/log/mosquitto.log\nEOF\n\n# 4. Kh\u1edfi \u0111\u1ed9ng h\u1ec7 th\u1ed1ng\ncd infrastructure/docker\ndocker compose up -d\n\n# 5. Ch\u1ea1y migrations\ndocker exec -it cityresq-coreapi php artisan migrate --seed\ndocker exec -it cityresq-coreapi php artisan key:generate\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Truy c\u1eadp"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\ud83c\udf10 CoreAPI: ",(0,s.jsx)(e.a,{href:"http://localhost:8000",children:"http://localhost:8000"})]}),"\n",(0,s.jsxs)(e.li,{children:["\ud83d\udcf1 Web App: ",(0,s.jsx)(e.a,{href:"http://localhost:3000",children:"http://localhost:3000"})]}),"\n",(0,s.jsxs)(e.li,{children:["\ud83d\udce6 MinIO Console: ",(0,s.jsx)(e.a,{href:"http://localhost:9001",children:"http://localhost:9001"})," (minioadmin/minioadmin)"]}),"\n",(0,s.jsxs)(e.li,{children:["\ud83d\udc30 RabbitMQ: ",(0,s.jsx)(e.a,{href:"http://localhost:15672",children:"http://localhost:15672"})," (cityresq/cityresq_password)"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"\ufe0f-n\u1ebfu-kh\xf4ng-s\u1eed-d\u1ee5ng-docker",children:"\u26a0\ufe0f N\u1ebfu kh\xf4ng s\u1eed d\u1ee5ng Docker"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["N\u1ebfu b\u1ea1n kh\xf4ng d\xf9ng docker th\xec xem file ",(0,s.jsx)(e.a,{href:"/DTU-CityResQ360-documents/BUILD_WITHOUT_DOCKER",children:"BUILD_WITHOUT_DOCKER.md"})]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"ph\u1ea7n-m\u1ec1m-c\u1ea7n-c\xe0i-\u0111\u1eb7t",children:"Ph\u1ea7n m\u1ec1m c\u1ea7n c\xe0i \u0111\u1eb7t"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"Ph\u1ea7n m\u1ec1m"}),(0,s.jsx)(e.th,{children:"Phi\xean b\u1ea3n"}),(0,s.jsx)(e.th,{children:"M\u1ee5c \u0111\xedch"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Docker"})}),(0,s.jsx)(e.td,{children:"20.10+"}),(0,s.jsx)(e.td,{children:"Container runtime"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Docker Compose"})}),(0,s.jsx)(e.td,{children:"2.0+"}),(0,s.jsx)(e.td,{children:"Orchestration"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Git"})}),(0,s.jsx)(e.td,{children:"2.30+"}),(0,s.jsx)(e.td,{children:"Version control"})]})]})]}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"L\u01b0u \xfd"}),": H\u1ec7 th\u1ed1ng s\u1eed d\u1ee5ng Docker \u0111\u1ec3 ch\u1ea1y t\u1ea5t c\u1ea3 services, b\u1ea1n ",(0,s.jsx)(e.strong,{children:"KH\xd4NG C\u1ea6N"})," c\xe0i \u0111\u1eb7t PHP, Node.js, Python, MySQL, PostgreSQL, v.v. tr\xean m\xe1y local."]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"-c\xe0i-\u0111\u1eb7t-docker",children:"\ud83d\udc33 C\xe0i \u0111\u1eb7t Docker"}),"\n",(0,s.jsx)(e.h3,{id:"windows",children:"Windows"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"T\u1ea3i Docker Desktop"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Truy c\u1eadp: ",(0,s.jsx)(e.a,{href:"https://www.docker.com/products/docker-desktop",children:"https://www.docker.com/products/docker-desktop"})]}),"\n",(0,s.jsx)(e.li,{children:"T\u1ea3i b\u1ea3n Windows v\xe0 c\xe0i \u0111\u1eb7t"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"C\xe0i \u0111\u1eb7t WSL 2"})," (n\u1ebfu ch\u01b0a c\xf3)"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-powershell",children:"wsl --install\n"})}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Kh\u1edfi \u0111\u1ed9ng Docker Desktop"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"M\u1edf Docker Desktop t\u1eeb Start Menu"}),"\n",(0,s.jsx)(e.li,{children:"\u0110\u1ee3i Docker kh\u1edfi \u0111\u1ed9ng ho\xe0n t\u1ea5t (icon Docker m\xe0u xanh)"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Ki\u1ec3m tra c\xe0i \u0111\u1eb7t"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-powershell",children:"docker --version\ndocker compose version\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"macos",children:"macOS"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"T\u1ea3i Docker Desktop"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Truy c\u1eadp: ",(0,s.jsx)(e.a,{href:"https://www.docker.com/products/docker-desktop",children:"https://www.docker.com/products/docker-desktop"})]}),"\n",(0,s.jsx)(e.li,{children:"T\u1ea3i b\u1ea3n macOS v\xe0 c\xe0i \u0111\u1eb7t"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Ho\u1eb7c d\xf9ng Homebrew"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"brew install --cask docker\n"})}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Kh\u1edfi \u0111\u1ed9ng Docker Desktop"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"M\u1edf Docker Desktop t\u1eeb Applications"}),"\n",(0,s.jsx)(e.li,{children:"\u0110\u1ee3i Docker kh\u1edfi \u0111\u1ed9ng ho\xe0n t\u1ea5t"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Ki\u1ec3m tra c\xe0i \u0111\u1eb7t"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"docker --version\ndocker compose version\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"linux-ubuntudebian",children:"Linux (Ubuntu/Debian)"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'# C\u1eadp nh\u1eadt package index\nsudo apt update\n\n# C\xe0i \u0111\u1eb7t dependencies\nsudo apt install -y apt-transport-https ca-certificates curl software-properties-common\n\n# Th\xeam Docker GPG key\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg\n\n# Th\xeam Docker repository\necho "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null\n\n# C\xe0i \u0111\u1eb7t Docker\nsudo apt update\nsudo apt install -y docker-ce docker-ce-cli containerd.io docker-compose-plugin\n\n# Kh\u1edfi \u0111\u1ed9ng Docker\nsudo systemctl start docker\nsudo systemctl enable docker\n\n# Th\xeam user v\xe0o docker group (\u0111\u1ec3 ch\u1ea1y docker kh\xf4ng c\u1ea7n sudo)\nsudo usermod -aG docker $USER\n\n# Logout v\xe0 login l\u1ea1i \u0111\u1ec3 \xe1p d\u1ee5ng thay \u0111\u1ed5i, sau \u0111\xf3 ki\u1ec3m tra\ndocker --version\ndocker compose version\n'})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"-c\xe0i-\u0111\u1eb7t-h\u1ec7-th\u1ed1ng",children:"\ud83d\udce5 C\xe0i \u0111\u1eb7t h\u1ec7 th\u1ed1ng"}),"\n",(0,s.jsx)(e.h3,{id:"b\u01b0\u1edbc-1-clone-repository-t\u1eeb-github",children:"B\u01b0\u1edbc 1: Clone repository t\u1eeb GitHub"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Clone project v\u1ec1 m\xe1y\ngit clone https://github.com/MNM-DTU-DZ/CityResQ360-DTUDZ.git\n\n# Di chuy\u1ec3n v\xe0o th\u01b0 m\u1ee5c project\ncd CityResQ360-DTUDZ\n"})}),"\n",(0,s.jsx)(e.h3,{id:"b\u01b0\u1edbc-2-c\u1ea5u-h\xecnh-environment-variables",children:"B\u01b0\u1edbc 2: C\u1ea5u h\xecnh Environment Variables"}),"\n",(0,s.jsx)(e.h4,{id:"t\u1ea1o-file-env-cho-coreapi",children:"T\u1ea1o file .env cho CoreAPI"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Copy file .env.example\ncp modules/CoreAPI/.env.example modules/CoreAPI/.env\n"})}),"\n",(0,s.jsxs)(e.p,{children:["M\u1edf file ",(0,s.jsx)(e.code,{children:"modules/CoreAPI/.env"})," v\xe0 c\u1eadp nh\u1eadt c\xe1c th\xf4ng tin sau (n\u1ebfu c\u1ea7n):"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-env",children:"APP_NAME=CityResQ360\nAPP_ENV=local\nAPP_DEBUG=true\nAPP_URL=http://localhost:8000\n\n# Database\nDB_CONNECTION=mysql\nDB_HOST=mysql\nDB_PORT=3306\nDB_DATABASE=cityresq_db\nDB_USERNAME=cityresq\nDB_PASSWORD=cityresq_password\n\n# Redis\nREDIS_HOST=redis\nREDIS_PORT=6379\n\n# RabbitMQ\nRABBITMQ_HOST=rabbitmq\nRABBITMQ_PORT=5672\nRABBITMQ_USER=cityresq\nRABBITMQ_PASSWORD=cityresq_password\n"})}),"\n",(0,s.jsx)(e.h4,{id:"t\u1ea1o-file-env-chung-optional",children:"T\u1ea1o file .env chung (Optional)"}),"\n",(0,s.jsxs)(e.p,{children:["T\u1ea1o file ",(0,s.jsx)(e.code,{children:".env"})," \u1edf th\u01b0 m\u1ee5c g\u1ed1c project:"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Windows (PowerShell)\nNew-Item -Path .env -ItemType File\n\n# Linux/macOS\ntouch .env\n"})}),"\n",(0,s.jsxs)(e.p,{children:["Th\xeam n\u1ed9i dung v\xe0o file ",(0,s.jsx)(e.code,{children:".env"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-env",children:"# Database Passwords\nMYSQL_ROOT_PASSWORD=root_password\nMYSQL_PASSWORD=cityresq_password\nPOSTGRES_PASSWORD=cityresq_password\nMONGODB_PASSWORD=cityresq_password\n\n# RabbitMQ\nRABBITMQ_PASSWORD=cityresq_password\n\n# MinIO\nMINIO_ROOT_USER=minioadmin\nMINIO_ROOT_PASSWORD=minioadmin\n\n# ClickHouse\nCLICKHOUSE_PASSWORD=cityresq_password\n\n# JWT Secret\nJWT_SECRET=your-secret-key-change-this-in-production\n"})}),"\n",(0,s.jsx)(e.h3,{id:"b\u01b0\u1edbc-3-c\u1ea5u-h\xecnh-mqtt-mosquitto",children:"B\u01b0\u1edbc 3: C\u1ea5u h\xecnh MQTT (Mosquitto)"}),"\n",(0,s.jsx)(e.p,{children:"T\u1ea1o file c\u1ea5u h\xecnh cho MQTT broker:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# T\u1ea1o th\u01b0 m\u1ee5c config n\u1ebfu ch\u01b0a c\xf3\nmkdir -p infrastructure/mosquitto/config\nmkdir -p infrastructure/mosquitto/data\nmkdir -p infrastructure/mosquitto/log\n"})}),"\n",(0,s.jsxs)(e.p,{children:["T\u1ea1o file ",(0,s.jsx)(e.code,{children:"infrastructure/mosquitto/config/mosquitto.conf"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-conf",children:"listener 1883\nallow_anonymous true\npersistence true\npersistence_location /mosquitto/data/\nlog_dest file /mosquitto/log/mosquitto.log\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"-kh\u1edfi-\u0111\u1ed9ng-services",children:"\ud83d\ude80 Kh\u1edfi \u0111\u1ed9ng services"}),"\n",(0,s.jsx)(e.h3,{id:"ph\u01b0\u01a1ng-ph\xe1p-1-kh\u1edfi-\u0111\u1ed9ng-to\xe0n-b\u1ed9-h\u1ec7-th\u1ed1ng-\u0111\u01a1n-gi\u1ea3n-nh\u1ea5t",children:"Ph\u01b0\u01a1ng ph\xe1p 1: Kh\u1edfi \u0111\u1ed9ng to\xe0n b\u1ed9 h\u1ec7 th\u1ed1ng (\u0110\u01a1n gi\u1ea3n nh\u1ea5t)"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Di chuy\u1ec3n v\xe0o th\u01b0 m\u1ee5c docker\ncd infrastructure/docker\n\n# Kh\u1edfi \u0111\u1ed9ng t\u1ea5t c\u1ea3 services\ndocker compose up -d\n\n# Xem logs \u0111\u1ec3 theo d\xf5i qu\xe1 tr\xecnh kh\u1edfi \u0111\u1ed9ng\ndocker compose logs -f\n"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"L\u01b0u \xfd"}),": L\u1ea7n \u0111\u1ea7u ti\xean ch\u1ea1y s\u1ebd m\u1ea5t 10-15 ph\xfat \u0111\u1ec3 t\u1ea3i images v\xe0 build containers."]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"ph\u01b0\u01a1ng-ph\xe1p-2-kh\u1edfi-\u0111\u1ed9ng-t\u1eebng-nh\xf3m-services-khuy\u1ebfn-ngh\u1ecb",children:"Ph\u01b0\u01a1ng ph\xe1p 2: Kh\u1edfi \u0111\u1ed9ng t\u1eebng nh\xf3m services (Khuy\u1ebfn ngh\u1ecb)"}),"\n",(0,s.jsx)(e.p,{children:"C\xe1ch n\xe0y gi\xfap b\u1ea1n ki\u1ec3m so\xe1t t\u1ed1t h\u01a1n qu\xe1 tr\xecnh kh\u1edfi \u0111\u1ed9ng:"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"B\u01b0\u1edbc 1: Kh\u1edfi \u0111\u1ed9ng Databases & Infrastructure"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"cd infrastructure/docker\n\ndocker compose up -d mysql postgres timescaledb postgres-incident postgres-aiml postgres-floodeye mongodb redis rabbitmq minio mqtt opensearch clickhouse\n"})}),"\n",(0,s.jsxs)(e.p,{children:["\u0110\u1ee3i kho\u1ea3ng ",(0,s.jsx)(e.strong,{children:"30-60 gi\xe2y"})," \u0111\u1ec3 c\xe1c database kh\u1edfi \u0111\u1ed9ng ho\xe0n t\u1ea5t."]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"B\u01b0\u1edbc 2: Ki\u1ec3m tra databases \u0111\xe3 s\u1eb5n s\xe0ng"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"docker compose ps\n"})}),"\n",(0,s.jsxs)(e.p,{children:["T\u1ea5t c\u1ea3 containers ph\u1ea3i c\xf3 tr\u1ea1ng th\xe1i ",(0,s.jsx)(e.code,{children:"Up (healthy)"})," ho\u1eb7c ",(0,s.jsx)(e.code,{children:"Up"}),"."]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"B\u01b0\u1edbc 3: Kh\u1edfi \u0111\u1ed9ng Application Services"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"docker compose up -d coreapi media-service notification-service wallet-service incident-service iot-service\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"B\u01b0\u1edbc 4: Kh\u1edfi \u0111\u1ed9ng AI/ML Services (Optional)"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"docker compose up -d aiml-service search-service floodeye-service analytics-service\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"B\u01b0\u1edbc 5: Kh\u1edfi \u0111\u1ed9ng Web/Mobile App (Optional)"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"docker compose up -d app-mobile\n"})}),"\n",(0,s.jsx)(e.h3,{id:"ph\u01b0\u01a1ng-ph\xe1p-3-s\u1eed-d\u1ee5ng-script-qu\u1ea3n-l\xfd",children:"Ph\u01b0\u01a1ng ph\xe1p 3: S\u1eed d\u1ee5ng Script qu\u1ea3n l\xfd"}),"\n",(0,s.jsx)(e.p,{children:"D\u1ef1 \xe1n c\xf3 s\u1eb5n script \u0111\u1ec3 qu\u1ea3n l\xfd services d\u1ec5 d\xe0ng h\u01a1n:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Linux/macOS\nbash scripts/local/run.sh\n\n# Windows (Git Bash)\nbash scripts/local/run.sh\n"})}),"\n",(0,s.jsx)(e.p,{children:"Script s\u1ebd hi\u1ec3n th\u1ecb menu:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"========================================\nCityResQ360 - Local Docker Manager\n========================================\n\nChoose an option:\n  1) Start all services\n  2) Stop all services\n  3) Restart all services\n  4) Clean rebuild (remove everything)\n  5) View logs\n  6) Check status\n  7) Run migrations\n  8) Test endpoints\n  9) Open shells\n  0) Exit\n========================================\n"})}),"\n",(0,s.jsxs)(e.p,{children:["Ch\u1ecdn option ",(0,s.jsx)(e.strong,{children:"1"})," \u0111\u1ec3 kh\u1edfi \u0111\u1ed9ng t\u1ea5t c\u1ea3 services."]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"-c\xe0i-\u0111\u1eb7t-sau-khi-kh\u1edfi-\u0111\u1ed9ng",children:"\ud83d\udd27 C\xe0i \u0111\u1eb7t sau khi kh\u1edfi \u0111\u1ed9ng"}),"\n",(0,s.jsx)(e.h3,{id:"1-ch\u1ea1y-migrations-cho-coreapi",children:"1. Ch\u1ea1y migrations cho CoreAPI"}),"\n",(0,s.jsx)(e.p,{children:"Sau khi c\xe1c containers \u0111\xe3 ch\u1ea1y, b\u1ea1n c\u1ea7n ch\u1ea1y migrations \u0111\u1ec3 t\u1ea1o database schema:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# V\xe0o container CoreAPI\ndocker exec -it cityresq-coreapi bash\n\n# Ch\u1ea1y migrations\nphp artisan migrate --seed\n\n# Generate application key\nphp artisan key:generate\n\n# Cache config\nphp artisan config:cache\n\n# Tho\xe1t container\nexit\n"})}),"\n",(0,s.jsx)(e.h3,{id:"2-t\u1ea1o-bucket-cho-minio",children:"2. T\u1ea1o bucket cho MinIO"}),"\n",(0,s.jsx)(e.p,{children:"MinIO l\xe0 n\u01a1i l\u01b0u tr\u1eef media files (\u1ea3nh, video)."}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"C\xe1ch 1: Qua Web UI"})}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["Truy c\u1eadp MinIO Console: ",(0,s.jsx)(e.a,{href:"http://localhost:9001",children:"http://localhost:9001"})]}),"\n",(0,s.jsxs)(e.li,{children:["\u0110\u0103ng nh\u1eadp:","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Username: ",(0,s.jsx)(e.code,{children:"minioadmin"})]}),"\n",(0,s.jsxs)(e.li,{children:["Password: ",(0,s.jsx)(e.code,{children:"minioadmin"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["T\u1ea1o bucket m\u1edbi t\xean ",(0,s.jsx)(e.code,{children:"cityresq-media"})]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"C\xe1ch 2: Qua Command Line"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# T\u1ea1o alias cho MinIO\ndocker run --rm -it --network infrastructure_cityresq-network minio/mc alias set myminio http://minio:9000 minioadmin minioadmin\n\n# T\u1ea1o bucket\ndocker run --rm -it --network infrastructure_cityresq-network minio/mc mb myminio/cityresq-media\n\n# Set public access (optional)\ndocker run --rm -it --network infrastructure_cityresq-network minio/mc anonymous set download myminio/cityresq-media\n"})}),"\n",(0,s.jsx)(e.h3,{id:"3-kh\u1edfi-t\u1ea1o-extensions-cho-postgresql",children:"3. Kh\u1edfi t\u1ea1o extensions cho PostgreSQL"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"WalletService (PostgreSQL)"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'docker exec -it cityresq-postgres psql -U cityresq -d wallet_db -c "CREATE EXTENSION IF NOT EXISTS \\"uuid-ossp\\";"\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"FloodEyeService (PostGIS)"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'docker exec -it cityresq-postgres-floodeye psql -U cityresq -d floodeye_db -c "CREATE EXTENSION IF NOT EXISTS postgis;"\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"IoTService (TimescaleDB)"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'docker exec -it cityresq-timescaledb psql -U cityresq -d iot_db -c "CREATE EXTENSION IF NOT EXISTS timescaledb;"\n'})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"-ki\u1ec3m-tra-h\u1ec7-th\u1ed1ng",children:"\u2705 Ki\u1ec3m tra h\u1ec7 th\u1ed1ng"}),"\n",(0,s.jsx)(e.h3,{id:"1-ki\u1ec3m-tra-containers-\u0111ang-ch\u1ea1y",children:"1. Ki\u1ec3m tra containers \u0111ang ch\u1ea1y"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"cd infrastructure/docker\ndocker compose ps\n"})}),"\n",(0,s.jsxs)(e.p,{children:["K\u1ebft qu\u1ea3 mong \u0111\u1ee3i: T\u1ea5t c\u1ea3 services c\xf3 tr\u1ea1ng th\xe1i ",(0,s.jsx)(e.code,{children:"Up"})," ho\u1eb7c ",(0,s.jsx)(e.code,{children:"Up (healthy)"}),"."]}),"\n",(0,s.jsx)(e.h3,{id:"2-ki\u1ec3m-tra-logs",children:"2. Ki\u1ec3m tra logs"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Xem logs t\u1ea5t c\u1ea3 services\ndocker compose logs\n\n# Xem logs c\u1ee7a service c\u1ee5 th\u1ec3\ndocker compose logs coreapi\ndocker compose logs media-service\n\n# Follow logs realtime\ndocker compose logs -f notification-service\n"})}),"\n",(0,s.jsx)(e.h3,{id:"3-truy-c\u1eadp-c\xe1c-services",children:"3. Truy c\u1eadp c\xe1c services"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"Service"}),(0,s.jsx)(e.th,{children:"URL"}),(0,s.jsx)(e.th,{children:"Credentials"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"CoreAPI"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.a,{href:"http://localhost:8000",children:"http://localhost:8000"})}),(0,s.jsx)(e.td,{children:"-"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"API Documentation"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.a,{href:"http://localhost:8000/api/documentation",children:"http://localhost:8000/api/documentation"})}),(0,s.jsx)(e.td,{children:"-"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Web App"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.a,{href:"http://localhost:3000",children:"http://localhost:3000"})}),(0,s.jsx)(e.td,{children:"-"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"MinIO Console"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.a,{href:"http://localhost:9001",children:"http://localhost:9001"})}),(0,s.jsx)(e.td,{children:"minioadmin / minioadmin"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"RabbitMQ Management"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.a,{href:"http://localhost:15672",children:"http://localhost:15672"})}),(0,s.jsx)(e.td,{children:"cityresq / cityresq_password"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"OpenSearch Dashboards"})}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.a,{href:"http://localhost:5601",children:"http://localhost:5601"})}),(0,s.jsx)(e.td,{children:"-"})]})]})]}),"\n",(0,s.jsx)(e.h3,{id:"4-test-api-endpoints",children:"4. Test API endpoints"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Health check CoreAPI\ncurl http://localhost:8000/api/health\n\n# Health check MediaService\ncurl http://localhost:8004/health\n\n# Health check NotificationService\ncurl http://localhost:8006/health\n\n# Health check WalletService\ncurl http://localhost:8005/health\n"})}),"\n",(0,s.jsx)(e.p,{children:"N\u1ebfu c\xe1c API tr\u1ea3 v\u1ec1 response (kh\xf4ng l\u1ed7i connection), ngh\u0129a l\xe0 h\u1ec7 th\u1ed1ng \u0111\xe3 ch\u1ea1y th\xe0nh c\xf4ng!"}),"\n",(0,s.jsx)(e.h3,{id:"5-ki\u1ec3m-tra-k\u1ebft-n\u1ed1i-database",children:"5. Ki\u1ec3m tra k\u1ebft n\u1ed1i database"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"MySQL (CoreAPI)"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'docker exec -it cityresq-mysql mysql -u cityresq -pcityresq_password -e "SHOW DATABASES;"\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"PostgreSQL (WalletService)"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'docker exec -it cityresq-postgres psql -U cityresq -d wallet_db -c "\\dt"\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"MongoDB (MediaService)"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'docker exec -it cityresq-mongodb mongosh -u cityresq -p cityresq_password --authenticationDatabase admin --eval "show dbs"\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Redis"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"docker exec -it cityresq-redis redis-cli ping\n"})}),"\n",(0,s.jsxs)(e.p,{children:["K\u1ebft qu\u1ea3 mong \u0111\u1ee3i: ",(0,s.jsx)(e.code,{children:"PONG"})]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"-d\u1eebng-v\xe0-x\xf3a-h\u1ec7-th\u1ed1ng",children:"\ud83d\uded1 D\u1eebng v\xe0 x\xf3a h\u1ec7 th\u1ed1ng"}),"\n",(0,s.jsx)(e.h3,{id:"d\u1eebng-t\u1ea5t-c\u1ea3-services",children:"D\u1eebng t\u1ea5t c\u1ea3 services"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"cd infrastructure/docker\ndocker compose stop\n"})}),"\n",(0,s.jsx)(e.h3,{id:"d\u1eebng-v\xe0-x\xf3a-containers-gi\u1eef-l\u1ea1i-data",children:"D\u1eebng v\xe0 x\xf3a containers (gi\u1eef l\u1ea1i data)"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"docker compose down\n"})}),"\n",(0,s.jsx)(e.h3,{id:"x\xf3a-ho\xe0n-to\xe0n-bao-g\u1ed3m-volumesdata",children:"X\xf3a ho\xe0n to\xe0n (bao g\u1ed3m volumes/data)"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# \u26a0\ufe0f C\u1ea2NH B\xc1O: L\u1ec7nh n\xe0y s\u1ebd X\xd3A T\u1ea4T C\u1ea2 D\u1eee LI\u1ec6U\ndocker compose down -v\n"})}),"\n",(0,s.jsx)(e.h3,{id:"clean-rebuild-to\xe0n-b\u1ed9-h\u1ec7-th\u1ed1ng",children:"Clean rebuild to\xe0n b\u1ed9 h\u1ec7 th\u1ed1ng"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# S\u1eed d\u1ee5ng script rebuild\nbash scripts/local/rebuild-docker.sh\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"-troubleshooting",children:"\ud83c\udd98 Troubleshooting"}),"\n",(0,s.jsx)(e.h3,{id:"l\u1ed7i-port-already-in-use",children:"L\u1ed7i: Port already in use"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Nguy\xean nh\xe2n"}),": Port \u0111\xe3 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng b\u1edfi \u1ee9ng d\u1ee5ng kh\xe1c (v\xed d\u1ee5: XAMPP, WAMP, MySQL local)"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Gi\u1ea3i ph\xe1p"}),":"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Ki\u1ec3m tra port n\xe0o \u0111ang b\u1ecb chi\u1ebfm"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Windows\nnetstat -ano | findstr :3306\nnetstat -ano | findstr :8000\n\n# Linux/macOS\nlsof -i :3306\nlsof -i :8000\n"})}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"D\u1eebng \u1ee9ng d\u1ee5ng \u0111ang chi\u1ebfm port"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"N\u1ebfu l\xe0 XAMPP: T\u1eaft MySQL v\xe0 Apache trong XAMPP Control Panel"}),"\n",(0,s.jsxs)(e.li,{children:["Ho\u1eb7c thay \u0111\u1ed5i port trong ",(0,s.jsx)(e.code,{children:"docker-compose.yml"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Thay \u0111\u1ed5i port trong docker-compose.yml"})," (n\u1ebfu c\u1ea7n):"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-yaml",children:'mysql:\n  ports:\n    - "3307:3306" # \u0110\u1ed5i t\u1eeb 3306 sang 3307\n'})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"l\u1ed7i-container-unhealthy-ho\u1eb7c-kh\xf4ng-kh\u1edfi-\u0111\u1ed9ng",children:"L\u1ed7i: Container unhealthy ho\u1eb7c kh\xf4ng kh\u1edfi \u0111\u1ed9ng"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Nguy\xean nh\xe2n"}),": Service kh\xf4ng kh\u1edfi \u0111\u1ed9ng \u0111\xfang c\xe1ch"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Gi\u1ea3i ph\xe1p"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Xem logs c\u1ee7a container\ndocker compose logs [service-name]\n\n# V\xed d\u1ee5\ndocker compose logs mysql\ndocker compose logs coreapi\n\n# Restart container\ndocker compose restart [service-name]\n\n# Rebuild container\ndocker compose up -d --build [service-name]\n"})}),"\n",(0,s.jsx)(e.h3,{id:"l\u1ed7i-permission-denied-linux",children:"L\u1ed7i: Permission denied (Linux)"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Nguy\xean nh\xe2n"}),": User ch\u01b0a c\xf3 quy\u1ec1n ch\u1ea1y Docker"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Gi\u1ea3i ph\xe1p"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Th\xeam user v\xe0o docker group\nsudo usermod -aG docker $USER\n\n# Logout v\xe0 login l\u1ea1i\n# Ho\u1eb7c ch\u1ea1y l\u1ec7nh n\xe0y \u0111\u1ec3 \xe1p d\u1ee5ng ngay\nnewgrp docker\n"})}),"\n",(0,s.jsx)(e.h3,{id:"l\u1ed7i-out-of-memory",children:"L\u1ed7i: Out of memory"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Nguy\xean nh\xe2n"}),": Docker kh\xf4ng \u0111\u1ee7 RAM"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Gi\u1ea3i ph\xe1p"}),":"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"T\u0103ng memory limit cho Docker Desktop"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"M\u1edf Docker Desktop"}),"\n",(0,s.jsx)(e.li,{children:"Settings \u2192 Resources \u2192 Memory"}),"\n",(0,s.jsx)(e.li,{children:"T\u0103ng l\xean \xedt nh\u1ea5t 4-6 GB"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Ho\u1eb7c gi\u1ea3m s\u1ed1 services ch\u1ea1y \u0111\u1ed3ng th\u1eddi"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Ch\u1ec9 ch\u1ea1y services c\u1ea7n thi\u1ebft\ndocker compose up -d mysql redis rabbitmq coreapi\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"l\u1ed7i-database-connection-refused",children:"L\u1ed7i: Database connection refused"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Nguy\xean nh\xe2n"}),": Database ch\u01b0a kh\u1edfi \u0111\u1ed9ng xong"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Gi\u1ea3i ph\xe1p"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# \u0110\u1ee3i database kh\u1edfi \u0111\u1ed9ng (30-60 gi\xe2y)\ndocker compose logs mysql\ndocker compose logs postgres\n\n# Ki\u1ec3m tra health status\ndocker compose ps\n\n# N\u1ebfu v\u1eabn l\u1ed7i, restart database\ndocker compose restart mysql\n"})}),"\n",(0,s.jsx)(e.h3,{id:"l\u1ed7i-cannot-connect-to-docker-daemon",children:"L\u1ed7i: Cannot connect to Docker daemon"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Nguy\xean nh\xe2n"}),": Docker Desktop ch\u01b0a kh\u1edfi \u0111\u1ed9ng"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Gi\u1ea3i ph\xe1p"}),":"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"Kh\u1edfi \u0111\u1ed9ng Docker Desktop"}),"\n",(0,s.jsx)(e.li,{children:"\u0110\u1ee3i Docker kh\u1edfi \u0111\u1ed9ng ho\xe0n t\u1ea5t (icon Docker tr\xean taskbar/menu bar ph\u1ea3i m\xe0u xanh)"}),"\n",(0,s.jsx)(e.li,{children:"Th\u1eed l\u1ea1i l\u1ec7nh"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"l\u1ed7i-build-failed-ho\u1eb7c-image-pull-failed",children:"L\u1ed7i: Build failed ho\u1eb7c image pull failed"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Nguy\xean nh\xe2n"}),": K\u1ebft n\u1ed1i internet kh\xf4ng \u1ed5n \u0111\u1ecbnh ho\u1eb7c Docker Hub b\u1ecb ch\u1eb7n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Gi\u1ea3i ph\xe1p"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'# Th\u1eed l\u1ea1i build\ndocker compose build --no-cache\n\n# Ho\u1eb7c pull image tr\u01b0\u1edbc\ndocker compose pull\n\n# N\u1ebfu Docker Hub b\u1ecb ch\u1eb7n, c\u1ea5u h\xecnh Docker mirror (VN)\n# Th\xeam v\xe0o Docker Desktop Settings \u2192 Docker Engine:\n{\n  "registry-mirrors": ["https://mirror.gcr.io"]\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"x\xf3a-v\xe0-rebuild-ho\xe0n-to\xe0n",children:"X\xf3a v\xe0 rebuild ho\xe0n to\xe0n"}),"\n",(0,s.jsx)(e.p,{children:"N\u1ebfu g\u1eb7p l\u1ed7i kh\xf4ng gi\u1ea3i quy\u1ebft \u0111\u01b0\u1ee3c, th\u1eed clean rebuild:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# D\u1eebng t\u1ea5t c\u1ea3 containers\ncd infrastructure/docker\ndocker compose down -v\n\n# X\xf3a t\u1ea5t c\u1ea3 images c\u1ee7a CityResQ360\ndocker images | grep cityresq | awk '{print $3}' | xargs docker rmi -f\n\n# X\xf3a t\u1ea5t c\u1ea3 volumes\ndocker volume ls | grep cityresq | awk '{print $2}' | xargs docker volume rm\n\n# Clean Docker system\ndocker system prune -a --volumes\n\n# Rebuild l\u1ea1i t\u1eeb \u0111\u1ea7u\ndocker compose up -d --build\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"-c\xe1c-l\u1ec7nh-docker-h\u1eefu-\xedch",children:"\ud83d\udcda C\xe1c l\u1ec7nh Docker h\u1eefu \xedch"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Xem t\u1ea5t c\u1ea3 containers \u0111ang ch\u1ea1y\ndocker ps\n\n# Xem t\u1ea5t c\u1ea3 containers (k\u1ec3 c\u1ea3 \u0111\xe3 d\u1eebng)\ndocker ps -a\n\n# Xem logs c\u1ee7a container\ndocker logs [container-name]\ndocker logs -f [container-name]  # Follow logs\n\n# V\xe0o shell c\u1ee7a container\ndocker exec -it [container-name] bash\ndocker exec -it [container-name] sh\n\n# Restart container\ndocker restart [container-name]\n\n# Stop container\ndocker stop [container-name]\n\n# Remove container\ndocker rm [container-name]\n\n# Xem resource usage\ndocker stats\n\n# Xem images\ndocker images\n\n# Xem volumes\ndocker volume ls\n\n# Xem networks\ndocker network ls\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"-h\u1ed7-tr\u1ee3",children:"\ud83d\udcde H\u1ed7 tr\u1ee3"}),"\n",(0,s.jsx)(e.p,{children:"N\u1ebfu g\u1eb7p v\u1ea5n \u0111\u1ec1 kh\xf4ng gi\u1ea3i quy\u1ebft \u0111\u01b0\u1ee3c, vui l\xf2ng:"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"T\u1ea1o issue"})," t\u1ea1i: ",(0,s.jsx)(e.a,{href:"https://github.com/MNM-DTU-DZ/CityResQ360-DTUDZ/issues",children:"https://github.com/MNM-DTU-DZ/CityResQ360-DTUDZ/issues"})]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Li\xean h\u1ec7 team"}),":","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["L\xea Thanh Tr\u01b0\u1eddng: ",(0,s.jsx)(e.a,{href:"mailto:thanhtruong23111999@gmail.com",children:"thanhtruong23111999@gmail.com"})]}),"\n",(0,s.jsxs)(e.li,{children:["Nguy\u1ec5n V\u0103n Nh\xe2n: ",(0,s.jsx)(e.a,{href:"mailto:vannhan130504@gmail.com",children:"vannhan130504@gmail.com"})]}),"\n",(0,s.jsxs)(e.li,{children:["Nguy\u1ec5n Ng\u1ecdc Duy Th\xe1i: ",(0,s.jsx)(e.a,{href:"mailto:kkdn011@gmail.com",children:"kkdn011@gmail.com"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"-t\xe0i-li\u1ec7u-b\u1ed5-sung",children:"\ud83d\udcda T\xe0i li\u1ec7u b\u1ed5 sung"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"README.md",children:"README.md"})," - T\u1ed5ng quan d\u1ef1 \xe1n"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"CONTRIBUITING.md",children:"CONTRIBUTING.md"})," - H\u01b0\u1edbng d\u1eabn \u0111\xf3ng g\xf3p"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"https://nguyenthai11103.github.io/DTU-CityResQ360-documents/",children:"Documentation"})," - T\xe0i li\u1ec7u chi ti\u1ebft"]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"-t\xf3m-t\u1eaft-c\xe1c-b\u01b0\u1edbc-c\xe0i-\u0111\u1eb7t",children:"\ud83c\udfaf T\xf3m t\u1eaft c\xe1c b\u01b0\u1edbc c\xe0i \u0111\u1eb7t"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"\u2705 C\xe0i \u0111\u1eb7t Docker Desktop"}),"\n",(0,s.jsx)(e.li,{children:"\u2705 Clone repository t\u1eeb GitHub"}),"\n",(0,s.jsx)(e.li,{children:"\u2705 C\u1ea5u h\xecnh file .env"}),"\n",(0,s.jsxs)(e.li,{children:["\u2705 Ch\u1ea1y ",(0,s.jsx)(e.code,{children:"docker compose up -d"})]}),"\n",(0,s.jsxs)(e.li,{children:["\u2705 Ch\u1ea1y migrations: ",(0,s.jsx)(e.code,{children:"docker exec -it cityresq-coreapi php artisan migrate"})]}),"\n",(0,s.jsx)(e.li,{children:"\u2705 T\u1ea1o MinIO bucket"}),"\n",(0,s.jsxs)(e.li,{children:["\u2705 Truy c\u1eadp ",(0,s.jsx)(e.a,{href:"http://localhost:8000",children:"http://localhost:8000"})]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Ch\xfac b\u1ea1n c\xe0i \u0111\u1eb7t th\xe0nh c\xf4ng! \ud83c\udf89"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.p,{children:"\xa9 2025 CityResQ360 \u2013 DTU-DZ Team"})]})}function a(n={}){const{wrapper:e}={...(0,c.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(d,{...n})}):d(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>l,x:()=>t});var s=i(6540);const c={},r=s.createContext(c);function l(n){const e=s.useContext(r);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(c):n.components||c:l(n.components),s.createElement(r.Provider,{value:e},n.children)}}}]);